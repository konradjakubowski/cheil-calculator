{"version":3,"sources":["store/types.js","utilities/keypadKeys.js","components/calculator/index.js","components/calculator/Screen.js","components/calculator/Keypad.js","components/calculator/Button.js","utilities/calculate.js","reducers/mainReducer.js","store/index.js","App.js","actions/actions.js","index.js"],"names":["SET_EXPRESSION","keypadKeys","specialOperators","calculator","Screen","props","react_default","a","createElement","className","lib","max","throttle","mode","expression","total","Keypad","handleClick","key","_this","clear","opposite","percentage","delete","evaluate","calculate","_this2","this","map","row","idx","Button","onButtonClick","buttonKey","Component","_ref","classNames","includes","type","name","join","trim","onClick","e","target","textContent","utilities_calculate","matched","RegExp","exec","test","Error","Function","concat","initialState","rootReducer","combineReducers","state","arguments","length","undefined","action","types","payload","slice","setExpression","Object","objectSpread","exp","split","createStore","getExpression","getTotal","App","_Component","classCallCheck","possibleConstructorReturn","getPrototypeOf","apply","inherits","createClass","value","console","log","connect","fromCalculator","dispatch","ReactDOM","render","es","store","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.24c32945.chunk.js","sourcesContent":["export const SET_EXPRESSION = 'SET_EXPRESSION';\r\n\r\nexport const CLEAR_EXPRESSION = 'CLEAR_EXPRESSION';\r\n\r\nexport const DELETE_LAST_EXPRESSION_ENTRY = 'DELETE_LAST_EXPRESSION_ENTRY';\r\n\r\nexport const EVALUATE_EXPRESSION = 'EVALUATE_EXPRESSION';\r\n\r\nexport const OPPOSITE_EXPRESSION = 'OPPOSITE_EXPRESSION';\r\n\r\nexport const PERCENTAGE_EXPRESSION = 'PERCENTAGE_EXPRESSION';\r\n","export const keypadKeys = [\r\n  ['C', '+/-', '%', '/'],\r\n  ['1', '2', '3', '*'],\r\n  ['4', '5', '6', '-'],\r\n  ['7', '8', '9', '+'],\r\n  ['0', '.', 'DEL', '='],\r\n];\r\n\r\nexport const specialOperators = ['/', '*', '-', '+', '='];\r\nexport const delOperator = 'DEL';\r\n","import Screen from './Screen';\r\nimport Keypad from './Keypad';\r\nimport Button from './Button';\r\n\r\nexport default {\r\n  Screen,\r\n  Keypad,\r\n  Button,\r\n};\r\n","import React from 'react';\r\nimport { Textfit } from 'react-textfit';\r\n\r\nexport default (props) => {\r\n  return (\r\n    <div className=\"container--screen\">\r\n      <Textfit\r\n        max={30}\r\n        throttle={60}\r\n        mode=\"single\"\r\n        className=\"container--screen-top\"\r\n      >\r\n        <div className=\"screen--top-inside\">\r\n          { props.expression }\r\n        </div>\r\n      </Textfit>\r\n      <Textfit\r\n        max={55}\r\n        mode=\"single\"\r\n        className=\"container--screen-bottom\"\r\n      >\r\n        <div className=\"screen--bottom-inside\">\r\n          { props.total }\r\n        </div>\r\n      </Textfit>\r\n    </div>\r\n  );\r\n};\r\n","import React, { Component } from \"react\";\r\nimport { keypadKeys } from \"../../utilities/keypadKeys\";\r\nimport Calculator from \"../calculator\";\r\n\r\nexport default class Keypad extends Component {\r\n  handleClick = key => {\r\n    switch (key) {\r\n      case \"C\":\r\n        this.props.clear();\r\n        break;\r\n      case \"+/-\":\r\n        this.props.opposite();\r\n        break;\r\n      case \"%\":\r\n        this.props.percentage();\r\n        break;    \r\n      case \"DEL\":\r\n        this.props.delete();\r\n        break;\r\n      case \"=\":\r\n        this.props.evaluate();\r\n        break;\r\n      default:\r\n        this.props.calculate(key);\r\n        break;\r\n    }\r\n  };\r\n  render() {\r\n    return (\r\n      <div className=\"container--keypad\">\r\n        {keypadKeys.map((row, idx) => {\r\n          return (\r\n            <div key={idx} className=\"container--keypad-row\">\r\n              {row.map(key => (\r\n                <Calculator.Button\r\n                  key={key}\r\n                  onButtonClick={this.handleClick}\r\n                  buttonKey={key}\r\n                />\r\n              ))}\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport { specialOperators, delOperator } from '../../utilities/keypadKeys';\r\n\r\nexport default ({ onButtonClick, buttonKey }) => {\r\n  const handleClick = (e) => { onButtonClick(e.target.textContent); };\r\n  const classNames = [\r\n    'keypad--btn',\r\n    specialOperators.includes(buttonKey) ? 'keypad--btn-gray' : '',\r\n    delOperator.includes(buttonKey) ? 'keypad--btn-del' : '',\r\n  ];\r\n\r\n  return (\r\n    <button\r\n      type=\"button\"\r\n      name={buttonKey}\r\n      className={classNames.join(' ').trim()}\r\n      onClick={handleClick}\r\n    >\r\n      { buttonKey }\r\n    </button>\r\n  );\r\n};\r\n","export default (expression) => {\r\n  const matched = (new RegExp('([\\\\d]+\\\\.?[\\\\d]*)?([-+/*][\\\\d]+\\\\.?[\\\\d]*)*')).exec(expression);\r\n  if (!matched) {\r\n    return 0;\r\n  }\r\n  if (/^[*+/]/.test(expression)) {\r\n    return () => {\r\n      throw new Error('Cannot start the expression with invalid operators');\r\n    };\r\n  }\r\n  return new Function(`return ${matched[0]}`)();\r\n};\r\n","import * as types from '../store/types';\r\nimport calculate from '../utilities/calculate';\r\n\r\nconst initialState = {\r\n  expression: '',\r\n  total: 0,\r\n};\r\n\r\nfunction setExpression({ expression, total }, action) {\r\n  if (/[\\d]*[-+%*/.]$/.exec(expression) && /[-+%*/.]/.exec(action.payload)) {\r\n    expression = expression.slice(0, expression.length - 1);\r\n  }\r\n\r\n  switch (action.type) {\r\n    case types.SET_EXPRESSION:\r\n      if (['+', '/', '*', '%'].includes(action.payload) && !expression) {\r\n        return `${total}${action.payload}`;\r\n      }\r\n      return `${!expression && total ? total : ''}${expression\r\n        + action.payload}`;\r\n    default:\r\n      return expression;\r\n  }\r\n}\r\n\r\nexport default (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case types.SET_EXPRESSION:\r\n      const expression = setExpression(state, action);\r\n      return {\r\n        ...state,\r\n        expression,\r\n        total: calculate(expression) || state.total,\r\n      };\r\n    case types.CLEAR_EXPRESSION:\r\n      return {\r\n        ...state,\r\n        expression: '',\r\n        total: 0,\r\n      };\r\n    case types.DELETE_LAST_EXPRESSION_ENTRY:\r\n      let exp = state.expression;\r\n      exp = exp\r\n        .split('')\r\n        .slice(0, exp.length - 1)\r\n        .join('');\r\n      return {\r\n        ...state,\r\n        expression: exp,\r\n        total: calculate(exp),\r\n      };\r\n    case types.EVALUATE_EXPRESSION:\r\n      return {\r\n        ...state,\r\n        expression: '',\r\n        total: calculate(state.expression) || state.expression || state.total,\r\n      };\r\n    case types.OPPOSITE_EXPRESSION:\r\n      return {\r\n        ...state,\r\n        expression: '',\r\n        total: calculate(state.expression * -1),\r\n      };\r\n    case types.PERCENTAGE_EXPRESSION:\r\n      return {\r\n        ...state,\r\n        expression: '',\r\n        total: calculate(state.expression / 100),\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { createStore, combineReducers } from 'redux';\r\nimport mainReducer from '../reducers/mainReducer';\r\n\r\nconst rootReducer = combineReducers({\r\n  calculator: mainReducer,\r\n});\r\n\r\nexport default createStore(rootReducer);\r\n\r\nexport const getExpression = state => state.calculator.expression;\r\n\r\nexport const getTotal = state => state.calculator.total;\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n  calculate,\r\n  clear,\r\n  deleteLastEntry,\r\n  evaluateExpression,\r\n  oppositeExpression,\r\n  percentageExpression,\r\n} from './actions/actions';\r\nimport Calculator from './components/calculator';\r\nimport * as fromCalculator from './store';\r\nimport './sass/App.scss';\r\n\r\nexport class App extends Component {\r\n  componentDidMount() {\r\n    console.log('checked if calculator is mounted.');\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"calc--container\">\r\n        <Calculator.Screen {...this.props} />\r\n        <Calculator.Keypad {...this.props} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    expression: fromCalculator.getExpression(state),\r\n    total: fromCalculator.getTotal(state),\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    calculate: buttonKey => {\r\n      dispatch(calculate(buttonKey));\r\n    },\r\n    delete: () => {\r\n      dispatch(deleteLastEntry());\r\n    },\r\n    clear: () => {\r\n      dispatch(clear());\r\n    },\r\n    evaluate: () => {\r\n      dispatch(evaluateExpression());\r\n    },\r\n    opposite: () => {\r\n      dispatch(oppositeExpression());\r\n    },\r\n    percentage: () => {\r\n      dispatch(percentageExpression());\r\n    },\r\n  };\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps,\r\n)(App);\r\n","import * as types from '../store/types';\r\n\r\nexport const calculate = (key) => {\r\n  return {\r\n    type: types.SET_EXPRESSION,\r\n    payload: key,\r\n  };\r\n};\r\n\r\nexport const clear = () => {\r\n  return {\r\n    type: types.CLEAR_EXPRESSION,\r\n  };\r\n};\r\n\r\nexport const deleteLastEntry = () => {\r\n  return {\r\n    type: types.DELETE_LAST_EXPRESSION_ENTRY,\r\n  };\r\n};\r\n\r\nexport const evaluateExpression = () => {\r\n  return {\r\n    type: types.EVALUATE_EXPRESSION,\r\n  };\r\n};\r\n\r\nexport const oppositeExpression = () => {\r\n  return {\r\n    type: types.OPPOSITE_EXPRESSION,\r\n  };\r\n};\r\n\r\nexport const percentageExpression = () => {\r\n  return {\r\n    type: types.PERCENTAGE_EXPRESSION,\r\n  };\r\n};\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\nimport App from './App';\r\nimport store from './store';\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>,\r\n  document.getElementById('root'),\r\n);\r\n"],"sourceRoot":""}